Dotfile repository, to be used with [[https://www.gnu.org/software/stow/][GNU Stow]].

Pretty much everything in here depends on tmux.
~mkdir~ invocations for packages indicate directories to create for smooth experience (e.g. build artifacts not cluttering up the package tree)

* Package specific instructions
** Bash
#+BEGIN_SRC sh
$ mkdir -p ~/.profile.d
#+END_SRC
- Drop-in setup via executable scripts in ~$HOME/.profile.d~
- Dependencies: ~thefuck~

** tmux
- Needs [[https://github.com/tmux-plugins/tpm][TPM]]
#+BEGIN_SRC sh
$ git clone https://github.com/tmux-plugins/tpm.git ~/.tmux/plugins/tpm
#+END_SRC
- Autostarts sessions on sourcing of ~$HOME/.bash_profile~
- Assumes that session names don't contain dashes or spaces (for session cleanup)
- Dependencies: ~xsel~ (for ~tmux-yank~), ~xdg-open~ (for ~tmux-open~), ~fortune~

** Emacs
#+BEGIN_SRC sh
$ mkdir -p ~/src/emacs ~/.emacs.d/lib
#+END_SRC
- tmux integration starts server when window is created
- Expects the emacswiki.org and hrs/sensible-defaults.el repos in ~$HOME/src/emacs/~:
#+BEGIN_SRC sh
$ git clone -b master https://github.com/emacsmirror/emacswiki.org.git ~/src/emacs/emacswiki.org
$ git clone https://github.com/hrs/sensible-defaults.el.git ~/src/emacs/sensible-defaults.el
#+END_SRC
- ~M-x package-refresh-contents RET~ ~M-x package-install-selected-packages RET~

** Elinks
#+BEGIN_SRC sh
$ mkdir -p ~/.elinks
#+END_SRC
- Key binds and session resume
- Autostart through tmux

** XConfig
#+BEGIN_SRC sh
$ mkdir -p ~/.xprofile.d
#+END_SRC
- Provides ~redshiftd.service~, ~udiskied.service~ and ~xss-deactivate.timer~
- Starts ~xscreensaver~, ~udiskie~, ~redshift~ and ~compton~
- Configured to start XMonad in ~.xinitrc~
- Setup in ~$HOME/.xprofile~ and executable scripts in ~$HOME/.xprofile.d~
- Dependencies: ~xscreensaver~, ~udiskie~, ~redshift~, ~compton~

** XMonad
#+BEGIN_SRC sh
$ mkdir -p ~/.xmonad/lib/XMonad/Prompt ~/screenshots
#+END_SRC
- No XMonad-specific setup needs to be done before starting the binary (it configures the background, tray and xmobar itself)
- XMobar configuration is not very robust: info scripts in ~bin/~ are platform-dependent to varying degrees and ~.xmobarrc~ needs some love
- Enable --user dunst.service
- Dependencies: ~xmonad-contrib~, ~xmonad-extras~, ~xmobar~, ~stalonetray~, ~nitrogen~
  - Commands used in XMonad: ~alacritty~, ~maim~
  - XMobar: ~ddate~, ~amixer~, ~sensors~, ~nvidia-smi~ for nvidia graphics cards
  - Integration: ~dunst~, ~notify-send~, ~xmessage~

** MPD
#+BEGIN_SRC sh
$ mkdir -p ~/.config/mpd/playlists
#+END_SRC
- Enable --user mpd.service (or start explicitly)
- ~bin/mpd_gen_playlists.zsh~ to create playlists for directories in mpd music library; respects an ~mpd_exclude.txt~ file there

** terminals
- Configuration of terminal emulators, currently ~xfce4-terminal~ and ~alacritty~

* Stuff to do
** Bash

** tmux
*** Make startup more robust: may insert windows into wrong sessions

** X config
*** Move to DM

** XMonad
*** More prefix-aware actions
*** Ideas
**** Replace dmenu with prompt?
**** Feedback which submap is active
**** GPU load in bar
**** processor frequencies in bar

** General
*** System status overview

** Merge configs
*** LXQt (& SDDM)
